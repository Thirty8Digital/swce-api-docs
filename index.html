<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>SWCE API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://api.swcollectionsexplorer.org.uk'>Sign Up for a Developer Key</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>Welcome to the SWCE API.</p>

<p>The API is a (mostly) RESTful service, with authentication handled by API tokens sent as a header or parameter on every request.</p>

<p>You can send us pull request for any changes you think should be made to these docs over on <a href="https://github.com/Thirty8Digital/swce-api-docs">Github</a></p>

<h1 id="api-endpoint">API Endpoint</h1>

<p>The API endpoint is:</p>

<p><code class="prettyprint">https://api.swcollectionsexplorer.org.uk/api/v1/</code></p>

<h1 id="formats">Formats</h1>

<p>By default, the API returns everything in JSON. We recommend you consume this, and provide an <code class="prettyprint">Accept: application/json</code> header with each call, although you will receive json without it.</p>

<p>XML is also available on every request if you prefer it, just send us an <code class="prettyprint">Accept: application/xml</code> header.</p>

<h1 id="rate-limiting">Rate Limiting</h1>

<p>You can make 60 requests to the API every 60 seconds.</p>

<p>After this, you&rsquo;ll receive an <code class="prettyprint">429 Too Many Requests</code> status.</p>

<p>You can check your rate limit status by reading the <code class="prettyprint">X-RateLimit-Limit</code> and <code class="prettyprint">X-RateLimit-Remaining</code> headers returned on every request.</p>

<h1 id="authentication">Authentication</h1>

<p>SWCE currently only offers API tokens to allow access to the API. You can register a new API token key at our <a href="https://api.swcollectionsexplorer.org.uk">developer portal</a>.</p>

<p>SWCE requires the API key to be included in all API requests to the server in a header that looks like the following:</p>

<p><code class="prettyprint">Authorization: Bearer w0WlRHfwbbr4JUJygL</code></p>

<p>Alternatively, you can make any request and append an api_token parameter:</p>

<p><code class="prettyprint">https://api.swcollectionsexplorer.org.uk/api/v1/sites?api_token=w0WlRHfwbbr4JUJygL</code></p>

<p>We recommend using the bearer token approach.</p>

<aside class="notice">
You must replace <code>w0WlRHfwbbr4JUJygL</code> with your personal API key.
</aside>

<h1 id="objects">Objects</h1>

<h2 id="get-all-objects">Get All Objects</h2>
<pre class="highlight plaintext"><code>
curl -X "GET" "https://api.swcollectionsexplorer.org.uk/api/v1/objects" \
    -H "Authorization: Bearer w0WlRHfwbbr4JUJygL"
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">11379</span><span class="p">,</span><span class="w">
  </span><span class="nt">"per_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
  </span><span class="nt">"current_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">228</span><span class="p">,</span><span class="w">
  </span><span class="nt">"next_page_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.swcollectionsexplorer.org.uk/api/v1/objects?page=2"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"prev_page_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"from"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"to"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"accession-loan-no"</span><span class="p">:</span><span class="w"> </span><span class="s2">"71/1929"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"simple-name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"door"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"full-name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"collector-excavator"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"collection-country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"England"</span><span class="p">,</span><span class="w">
      </span><span class="err">...</span><span class="w">
      </span><span class="nt">"site"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RAMM"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Antiquities"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"antiquities"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves all objects.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET objects</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>site</td>
<td>null</td>
<td>Limit results to only one site ID</td>
</tr>
<tr>
<td>since</td>
<td>null</td>
<td>Only return objects modified since this timestamp (2016-04-10 18:00:00 format)</td>
</tr>
<tr>
<td>category</td>
<td>null</td>
<td>Limit results to this category slug</td>
</tr>
<tr>
<td>per_page</td>
<td>50</td>
<td>The number of results per page (min 10, max 250)</td>
</tr>
</tbody></table>

<aside class="success">
Remember — all API requests must contain either an <code>Authorization</code> header, or a <code>api_token</code> parameter.
</aside>

<h2 id="get-a-specific-object">Get a Specific Object</h2>
<pre class="highlight plaintext"><code>
curl -X "GET" "https://api.swcollectionsexplorer.org.uk/api/v1/object/1" \
    -H "Authorization: Bearer w0WlRHfwbbr4JUJygL"
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"accession-loan-no"</span><span class="p">:</span><span class="w"> </span><span class="s2">"160/1999"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"simple-name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"architectural fragment"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"full-name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"label stop"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"collector-excavator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pearce, Nan, Mrs"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"collection-country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"England"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This architectural fragment is shaped as a queenâs head with curly hair. It was salvaged from a demolished house in Membury, Devon, where it had been used in a 20th century fireplace. It was probably once part of the local church."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"mint"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"medium"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"geology-period"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"common-name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"label stop"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"family"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="err">...</span><span class="w">
  </span><span class="nt">"site"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RAMM"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Antiquities"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"antiquities"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves a specific object.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET object/&lt;ID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the object to retrieve</td>
</tr>
</tbody></table>

          <h1 id="errors">Errors</h1>

<p>The SWCE API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request is invalid</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is not valid</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; The endpoint requested is hidden for administrators only</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified item could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access a item with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json or xml</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You have been rate limited.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
          </div>
      </div>
    </div>
  </body>
</html>
